<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rarity</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            /* Set background image */
            background-image: url('bac.gif');
            /* Set background size */
            background-size: cover;
            /* Set background repeat */
            background-repeat: no-repeat;
            /* Center the background image */
            background-position: center;
            /* Ensure content is above the background image */
            z-index: -1;
            /* Add any additional styles to the body here */
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
            font-family: Arial, sans-serif;
            color: #fff; /* Set text color */
            overflow-x: hidden; /* Hide horizontal scrollbar */
            position: relative; /* Ensure body position is relative for absolute positioning of logo */
        }

        /* Override header background */
        header {
            background: none;
        }

        /* Styles for the Discord logo */
        .discord-logo {
            position: absolute;
            bottom: -70px; /* Adjust bottom position */
            right: 50px; /* Adjust right position */
            width: 50px; /* Adjust width as needed */
            height: auto; /* Auto height */
            cursor: pointer; /* Change cursor to pointer on hover */
            transition: transform 0.2s ease; /* Add transition for smooth movement */
        }

        /* Add hover effect for Discord logo */
        .discord-logo:hover {
            transform: translateY(-5px); /* Move the logo up by 5 pixels on hover */
        }
 /* Style for the authentication section */
    #auth {
        position: fixed; /* Fixed positioning */
        top: 50px; /* Adjust this value to set the vertical position */
        right: 20px; /* Distance from the right side of the screen */
        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }

    /* Style for the "Login with Discord" button */
    #login-button {
        background-color: #7289DA; /* Discord's brand color */
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-bottom: 10px; /* Margin below the button */
    }

    /* Style for the user information display */
    #user-info {
        display: flex;
        align-items: center;
    }

    #user-info span {
        margin-right: 10px;
    }

    #user-info img {
        width: 30px;
        height: 30px;
        border-radius: 50%;
    }

    </style>

    <script>
        // Function to redirect to the login page with 'next' query parameter
        function redirectToLogin() {
            var currentPageUrl = window.location.pathname;
            var redirectUrl = '/auth/discord/login?next=' + encodeURIComponent(currentPageUrl);
            window.location.href = redirectUrl;
        }
    </script>
</head>
<body>
    <div id="auth">
    <!-- Check if the user is authenticated -->
    <% if (user == null) { %>
        <!-- If not authenticated, show login with Discord -->
        <button id="login-button" onclick ="redirectToLogin()" >Login with Discord</button>
    <% } else { %>
        <!-- If authenticated, show user information -->
        <div id="user-info">
            <span><%= user.global_name %></span> 
            <span>(<%= user.username %>)</span> 
            <img src="<%= user.avatarSrc %>" alt="User Avatar"> 
        </div>
    <% } %>
    </div>
    <header>
        <!-- Collection Banner -->
        <div class="collection-banner">
            <img src="2.png" alt="Collection Banner" loading="lazy" decoding="async">
        </div>
        <!-- Your existing header content -->
    </header>
    <main>
        <!-- Your existing main content -->
        <section class="collections">
            <h2></h2>
            <div id="nftContainer" class="nft-container"></div>
        </section>
    </main>
    <!-- Discord Logo -->
    <a href="https://discord.gg/ShR2VmCTzN" target="_blank"><img src="dc.png" alt="Discord Logo" class="discord-logo"></a>
    <script src="scripts.js"></script>
</body>
</html>
